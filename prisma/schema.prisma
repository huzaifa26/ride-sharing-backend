// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id                         Int      @id @default(autoincrement())
  email                      String   @unique
  fullName                   String
  address                    String
  phoneNumber                String
  password                   String
  criminalRecord             Boolean?
  isInsured                  Boolean?
  insuranceCompany           String?
  carName                    String?
  carModel                   String?
  carRegisteration           String?
  isAvailable                Boolean?
  userType                   String
  isProfileCompleted         Boolean
  ParentRides                Ride[] @relation("ParentRides")
  DriverRides                Ride[] @relation("DriverRides")
}

model Ride {
  id            Int      @id @default(autoincrement())
  pickup        String
  dropoff       String
  createdAt     DateTime @default(now())
  isAccepted    Boolean?
  isCompleted   Boolean
  parent        User     @relation("ParentRides",fields: [parentId], references: [id])
  driver        User     @relation("DriverRides",fields: [driverId], references: [id])
  parentId      Int
  driverId      Int
}